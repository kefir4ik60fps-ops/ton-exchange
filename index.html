<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TON Pro Analytics ‚Äî Market Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        body { background-color: #05080f; color: white; font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(16px); border: 1px solid rgba(255,255,255,0.05); }
        .input-box { background: rgba(30, 41, 59, 0.4); border: 1px solid rgba(255,255,255,0.1); }
        .whale-card { border-left: 4px solid #3b82f6; transition: all 0.3s; }
        .whale-card:hover { background: rgba(59, 130, 246, 0.1); transform: translateX(5px); }
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è "–∂–∏–≤—ã—Ö" —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        @keyframes pulse-blue { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .dot-live { animation: pulse-blue 2s infinite; }
    </style>
</head>
<body class="min-h-screen">

    <nav class="border-b border-white/5 py-4 px-6 flex justify-between items-center glass sticky top-0 z-50">
        <div class="flex items-center gap-3">
            <div class="p-2 bg-blue-600 rounded-lg">
                <img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" class="w-6 h-6" alt="TON">
            </div>
            <span class="text-xl font-extrabold tracking-tight italic">TON<span class="text-blue-500 font-black">HUB</span></span>
        </div>
        <div class="flex gap-4 items-center">
            <div class="hidden md:flex gap-6 text-xs font-bold text-slate-500 uppercase tracking-widest mr-4">
                <span class="text-blue-500">Market</span>
                <span>Whales</span>
                <span>News</span>
            </div>
            <div class="text-[10px] font-mono text-green-400 bg-green-500/10 px-3 py-1 rounded-full border border-green-500/20 uppercase tracking-tighter">
                v4.0 Pro
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4 lg:p-10">
        
        <div class="grid lg:grid-cols-3 gap-6 mb-8">
            <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="glass p-6 rounded-3xl flex flex-col justify-center">
                    <p class="text-[10px] text-slate-500 font-black uppercase mb-2 tracking-widest">TON / USD</p>
                    <div class="flex items-baseline gap-3">
                        <span id="price-usd" class="text-4xl font-black text-blue-400">$...</span>
                        <span id="price-change" class="text-lg font-bold">0%</span>
                    </div>
                </div>
                <div class="glass p-4 rounded-3xl">
                    <table class="w-full text-left text-xs">
                        <thead>
                            <tr class="text-slate-500 uppercase font-black border-b border-white/5">
                                <th class="pb-2">Asset</th>
                                <th class="pb-2">Price</th>
                                <th class="pb-2">24h</th>
                            </tr>
                        </thead>
                        <tbody id="market-table-body">
                            </tbody>
                    </table>
                </div>
            </div>

            <div class="glass p-6 rounded-[2.5rem] border-blue-500/20">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-sm font-black uppercase tracking-widest text-slate-400">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</h3>
                    <span class="dot-live w-2 h-2 bg-blue-500 rounded-full"></span>
                </div>
                <div class="space-y-3">
                    <div class="input-box p-4 rounded-2xl">
                        <input type="number" id="usdIn" value="100" class="bg-transparent text-2xl font-bold outline-none w-full">
                        <p class="text-[10px] font-bold text-slate-500 uppercase mt-1">USD</p>
                    </div>
                    <div class="input-box p-4 rounded-2xl bg-blue-500/5 border-blue-500/30">
                        <input type="number" id="tonOut" class="bg-transparent text-2xl font-bold outline-none w-full text-blue-400" readonly>
                        <p class="text-[10px] font-bold text-blue-500 uppercase mt-1">TON Result</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-4 gap-6 mb-8">
            <div class="lg:col-span-3 glass rounded-[2.5rem] overflow-hidden p-1 border border-white/5 h-[500px]">
                <div id="tradingview_widget" class="h-full w-full"></div>
            </div>
            
            <div class="glass rounded-[2.5rem] p-6 flex flex-col h-[500px]">
                <h3 class="text-sm font-black uppercase tracking-widest text-blue-500 mb-6 flex items-center gap-2">
                    üêã Whale Alerts
                </h3>
                <div id="whale-feed" class="space-y-4 overflow-y-auto pr-2 custom-scrollbar">
                    </div>
            </div>
        </div>

        <div class="glass rounded-[2.5rem] p-8">
            <h3 class="text-lg font-black mb-6">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ TON</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="p-4 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition cursor-pointer">
                    <p class="text-blue-400 text-[10px] font-bold uppercase mb-2">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ</p>
                    <h4 class="font-bold text-sm mb-2">–ó–∞–ø—É—Å–∫ –Ω–æ–≤—ã—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –≤ —Å–µ—Ç–∏ TON</h4>
                    <p class="text-slate-400 text-xs">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è NFT...</p>
                </div>
                <div class="p-4 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition cursor-pointer">
                    <p class="text-blue-400 text-[10px] font-bold uppercase mb-2">–†—ã–Ω–æ–∫</p>
                    <h4 class="font-bold text-sm mb-2">–†–æ—Å—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –ø—Ä–µ–≤—ã—Å–∏–ª 15%</h4>
                    <p class="text-slate-400 text-xs">–ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ—Ç–º–µ—á–∞—é—Ç –ø—Ä–∏—Ç–æ–∫ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ Telegram...</p>
                </div>
                <div class="p-4 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition cursor-pointer">
                    <p class="text-blue-400 text-[10px] font-bold uppercase mb-2">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</p>
                    <h4 class="font-bold text-sm mb-2">–ù–æ–≤—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —à–ª—é–∑—ã –¥–ª—è TON</h4>
                    <p class="text-slate-400 text-xs">–ü–æ–∫—É–ø–∞—Ç—å TON —Å—Ç–∞–ª–æ –µ—â–µ –ø—Ä–æ—â–µ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã...</p>
                </div>
            </div>
        </div>
    </main>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // 1. –ì—Ä–∞—Ñ–∏–∫
        new TradingView.widget({
            "autosize": true, "symbol": "OKX:TONUSDT", "interval": "H", "theme": "dark", "style": "1", "locale": "ru",
            "container_id": "tradingview_widget", "backgroundColor": "rgba(5, 8, 15, 1)", "gridColor": "rgba(255, 255, 255, 0.05)"
        });

        const assets = ['BTCUSDT', 'ETHUSDT', 'SOLUSDT'];
        let tonPrice = 0;

        // 2. –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ç–∞ –∏ TON
        async function fetchMarketData() {
            try {
                // –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–Ω–µ—Ç—ã
                const tableBody = document.getElementById('market-table-body');
                tableBody.innerHTML = '';
                
                for (let symbol of assets) {
                    const res = await fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${symbol}`);
                    const data = await res.json();
                    const name = symbol.replace('USDT', '');
                    const price = parseFloat(data.lastPrice).toLocaleString();
                    const change = parseFloat(data.priceChangePercent).toFixed(2);
                    const color = change >= 0 ? 'text-green-400' : 'text-red-400';

                    tableBody.innerHTML += `
                        <tr class="border-b border-white/5 hover:bg-white/5 transition">
                            <td class="py-3 font-bold">${name}</td>
                            <td class="py-3 font-mono">$${price}</td>
                            <td class="py-3 font-mono ${color}">${change}%</td>
                        </tr>
                    `;
                }

                // –î–∞–Ω–Ω—ã–µ TON
                const tonRes = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=TONUSDT');
                const tonData = await tonRes.json();
                tonPrice = parseFloat(tonData.lastPrice);
                document.getElementById('price-usd').innerText = `$${tonPrice.toFixed(3)}`;
                const tChange = parseFloat(tonData.priceChangePercent).toFixed(2);
                const tChangeEl = document.getElementById('price-change');
                tChangeEl.innerText = `${tChange >= 0 ? '+' : ''}${tChange}%`;
                tChangeEl.style.color = tChange >= 0 ? '#4ade80' : '#f87171';
                
                calculate();
            } catch (e) { console.error("API Error"); }
        }

        function calculate() {
            const val = document.getElementById('usdIn').value;
            if (tonPrice > 0 && val > 0) {
                document.getElementById('tonOut').value = (val / tonPrice).toFixed(3);
            }
        }

        // 3. –°–∏–º—É–ª—è—Ü–∏—è Whale Alerts (—á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—ã–ª–∏ –¥–∞–Ω–Ω—ã–µ)
        function generateWhaleAlert() {
            const feed = document.getElementById('whale-feed');
            const amounts = [15000, 42000, 105000, 89000, 250000];
            const amount = amounts[Math.floor(Math.random() * amounts.length)];
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            const alertHtml = `
                <div class="whale-card glass p-3 rounded-xl text-[10px]">
                    <div class="flex justify-between font-black text-blue-400 mb-1">
                        <span>LARGE MOVEMENT</span>
                        <span>${time}</span>
                    </div>
                    <p class="text-white font-bold">${amount.toLocaleString()} TON</p>
                    <p class="text-slate-500">Transferred to Unknown Wallet</p>
                </div>
            `;
            
            feed.insertAdjacentHTML('afterbegin', alertHtml);
            if (feed.children.length > 10) feed.lastElementChild.remove();
        }

        document.getElementById('usdIn').addEventListener('input', calculate);
        fetchMarketData();
        setInterval(fetchMarketData, 30000);
        setInterval(generateWhaleAlert, 10000); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º "–∫–∏—Ç–∞" –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫
        generateWhaleAlert(); // –°—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    </script>
</body>
</html>
